<!DOCTYPE html>
<!-- saved from url=(0038)http://www.miaodiyun.com/register.html -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<title>注册-TEDU_BBS</title>
<link rel="stylesheet" href="./css/bootstrap.css" />
<link rel="stylesheet" href="./css/hk_css1.css" />
<link rel="stylesheet" href="./css/hk_font-awesome.min.css" />
<link rel="stylesheet" href="./css/hk_md.login.css" />

<!--[if lte IE 8]>
        <script src="templates/js/libs/support/respond.min.js"></script>
    <![endif]-->
<!--[if lt IE 9]>
        <script src="templates/js/libs/support/html5shiv.js"></script>
    <![endif]-->
<link rel="stylesheet" href="./css/hk_layer.css"
	id="layui_layer_skinlayercss" style="" />


</head>
<body>
	<header id="header">
		<div class="inner clearfix row">
			<div class="pull-left col-md-3">

				<a href="" class="logo"><img src="./imgs/logo.jpg" alt=""></a>
			</div>
			<div class="pull-left col-md-5">
				<span class="logo-text text-center center-block">用户注册</span>
			</div>
			<div class="pull-right col-md-4">
				<div class="panel-navbar">
					<div class="pull-right row">
						<div class="pull-right col-md-4">
							<a href="" class="pull-right">tedu_bbs</a>
						</div>
						<div class="pull-right col-md-4">
							<a href="" class="pull-right">技术支持</a>
						</div>
						<div class="pull-right col-md-4">
							<a href="" target="_blank" class="pull-right">联系客服</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</header>
	<div th:value="${msg}" id=""></div>
	<div id="main" style="background: #f5f4f4;">
		<div class="inner clearfix">
			<div class="register-form">
				<div class="form-bd">
					<form action="/vaaaaaaaaaaaaerifyCode" method="post" id="myform"
						name="regform" class="form-horizontal">
						<input type="hidden" name="developer.channelName" id="aaa"
							value="${type!&#39;&#39;}"> <input type="hidden"
							name="developer.qmymark" id="qmymark" value=""> <input
							type="hidden" id="newType" name="newType" value="register">
						<input type="hidden" name="hidUA" value="computer">
						<!-- <input type="hidden" name="developer.channelName" id="aaa" value="${type!''}">
                    <input type="hidden" name="developer.qmymark" id="qmymark" value="">
                    <input type="hidden" name="hidUA" id="hidUA" value="computer">
                    <input type="hidden" name="developer.company" id="company" value=" "> -->
						<input type="hidden" name="developer.contact" id="contact"
							value=" "> <input type="hidden" name="developer.company"
							id="company" value=" "> <input type="hidden"
							name="developer.loginId" id="loginId" value=""> <input
							type="hidden" name="developer.timestamp" id="timestamp"
							value="1555208184455">

						<div class="form-title col-xs-12">
							账户设置 <small> - 手机号、邮箱皆可作为您的登录帐号使用</small>
						</div>
						<div class="form-group clearfix">
							<label class="col-xs-3 control-label" for="uEmail">邮箱地址</label>
							<div class="col-xs-9 control-col">
								<input type="text" class="form-control" placeholder="请输入邮箱地址"
									id="uEmail" name="developer.email" maxlength="30" datatype="e"
									nullmsg="请输入您的邮箱地址" errormsg="请输入正确的邮箱地址" />
								<!-- ajaxurl="/reg/check-email" -->
							</div>
						</div>
						<div class="form-group clearfix">
							<label class="col-xs-3 control-label" for="uMobile">手机号码</label>
							<div class="col-xs-9 control-col">
								<input type="text" class="form-control" placeholder="请输入手机号码"
									id="uMobile" name="developer.phone" maxlength="11" datatype="m"
									nullmsg="请输入您的手机号码" errormsg="请输入正确的手机号码" />
								<!-- ajaxurl="/reg/check-phone"> -->
							</div>
						</div>
						<div class="form-group clearfix">
							<label class="col-xs-3 control-label">滑动验证码</label>
							<div class="col-xs-9">
								<div id="captcha_div">
									<div class="yidun yidun--light yidun--float yidun--jigsaw"
										style="width: 100%; min-width: 220px">
										<div class="yidun_panel"
											style="bottom: 40px; padding-bottom: 15px">
											<div class="yidun_panel-placeholder">
												<iframe class="yidun_cover-frame"
													src="./saved_resource.html"></iframe>
												<div class="yidun_bgimg">
													<img class="yidun_bg-img" style="border-radius: 2px"
														src="./imgs/1.jpg"> <img class="yidun_jigsaw"
														src="./imgs/2.png">
												</div>
												<div class="yidun_loadbox" style="border-radius: 2px">
													<div class="yidun_loadbox__inner">
														<div class="yidun_loadicon"></div>
														<span class="yidun_loadtext">加载中...</span>
													</div>
												</div>
												<div class="yidun_top">
													<a class="yidun_feedback" title="反馈"
														href="http://support.dun.163.com/feedback/captcha?captchaId=3aa8d8bffbd249df9e411c9681461d44&amp;token=c00a8e350ac14a888d599b94c89a5632"
														target="_blank"></a>
													<div class="yidun_refresh" title="刷新"></div>
												</div>
											</div>
										</div>
										<div class="yidun_control"
											style="height: 40px; border-radius: 2px">
											<div class="yidun_slide_indicator"
												style="height: 40px; border-radius: 2px"></div>
											<div class="yidun_slider"
												style="width: 40px; border-radius: 2px">
												<!-- 分支二兼容旧接口 -->
												<span class="yidun_slider__icon"></span>
											</div>
											<div class="yidun_tips" style="line-height: 40px">
												<span class="yidun_tips__icon"></span> <span
													class="yidun_tips__text">向右拖动滑块填充拼图</span> <span
													class="yidun_tips__answer hide"></span>
											</div>
										</div>
									</div>
									<input type="hidden" name="NECaptchaValidate" value=""
										class="yidun_input">
								</div>
							</div>
						</div>
						<!--<div class="form-group form-captcha clearfix">-->
						<!--<label class="col-xs-3 control-label" for="imgCode">图片验证码</label>-->
						<!--<div class="col-xs-9 control-col">-->
						<!--<input type="text" class="form-control" id="imgCode" name="developer.imgCode" placeholder="请输入图片验证码" maxlength="4" datatype="*4-4" nullmsg="请输入您的图片验证码" errormsg="请输入正确的图片验证码" autocomplete="off" />-->
						<!--</div>-->
						<!--<a href="javascript:void(0);" onclick="_codeChange()" class="captcha-img">-->
						<!--<img class="verify-code codeBtn"  alt=""/>-->
						<!--&lt;!&ndash; <img class="verify-code codeBtn" th:src="@{/code}" alt=""/> &ndash;&gt;-->
						<!--</a>-->
						<!--</div>-->
						<div class="form-group clearfix">
							<div class="col-xs-9 col-xs-offset-3 control-col code-mode"
								data-email="#uEmail" data-mobile="#uMobile"
								data-imgcode="#imgCode">
								<button class="btn btn-primary " type="button"
									style="width: 48%; margin-right: 2%; margin-top: 0;"
									data-type="sms" onclick="codeVerification(this)"
									disabled="true">获取短信验证码</button>
								<!-- <button class="btn btn-primary " type="button"
																	style="width: 48%; margin-left: 2%; margin-top: 0;"
																	data-type="voice" onclick="codeVerification(this)"
																	disabled="true">获取语音验证码</button> -->
								<!-- <div class="btn-group" style="width:100%;">
                                <button class="btn btn-primary disabled" type="button" style="width:50%;" data-type="sms" onclick="settime(this)" disabled="true" >获取短信验证码</button>
                                <button class="btn btn-primary disabled" type="button" style="width:50%;" data-type="voice" onclick="settime(this)" disabled="true" >获取语音验证码</button>
                            </div> -->
							</div>
						</div>
						<div class="form-group clearfix">
							<!--用于解决360极速浏览器的兼容模式下的自动填充-->
							<input type="text" disabled="disabled" id="code" name="code"
								style="display: none;"> <input type="password"
								disabled="disabled" id="password" style="display: none;">
							<!--用于解决360极速浏览器的兼容模式下的自动填充-->
							<label class="col-xs-3 control-label" for="code">手机验证码</label>
							<div class="col-xs-9 control-col">
								<input type="text" class="form-control" placeholder="请输入手机验证码"
									maxlength="6" name="code" id="code" datatype="n6-6"
									nullmsg="请输入您的手机验证码" errormsg="请输入6位手机验证码" autocomplete="off">
							</div>
						</div>
						<div class="form-group clearfix">
							<label class="col-xs-3 control-label" for="password">密码</label>
							<div class="col-xs-9 control-col">
								<input type="password" class="form-control"
									placeholder="请设置您的密码" maxlength="16" id="password"
									name="developer.passwd" datatype="*6-18" nullmsg="请输入您的密码"
									errormsg="请输入正确的密码" autocomplete="off">
								<div class="slogon" style="margin-top: 5px;">6-16个字母、数字或者英文符号，区分大小写</div>
							</div>
						</div>

						<div class="form-group">
							<div class="control-col col-xs-12">
								<button class="btn btn-primary btn-lg btn-login" type="button"
									name="bnt" id="get-form">确定注册</button>
							</div>
							<div class="validform-box Validform_checktip Validform_wrong"
								style="display: none">
								<i class="msg-icon"></i><label for="" class="label"></label>
							</div>
							<div class="control-col col-xs-12">
								<a class="btn btn-default btn-lg btn-login" href="">已有帐号，立即登录</a>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<footer id="footer">
		<div class="copyright">tedu_bbs开发所有</div>
	</footer>

	<div style="display: none">
		<script src="./js/hk_hm.js"></script>
		<script src="./files/z_stat.php" language="JavaScript"></script>
		<script src="./files/core.php" charset="utf-8" type="text/javascript"></script>

		<script>
			var _hmt = _hmt || [];
			(function() {
				var hm = document.createElement("script");
				hm.src = "//hm.baidu.com/hm.js?e1385c7969f3f5d9ffa4c00b2264865a";
				var s = document.getElementsByTagName("script")[0];
				s.parentNode.insertBefore(hm, s);
			})();
		</script>
	</div>

	<script charset="utf-8" src="./js/hk_v.js"></script>
	<!-- <script type="text/javascript" charset="UTF-8" async=""
	src="./js/hk_plugins.min.js"></script> -->
	<script type="text/javascript" charset="UTF-8" async=""
		src="./files/core.php"></script>
	<script type="text/javascript" charset="UTF-8" async=""
		src="./js/hk_light.v2.10.8.min.js"></script>


	<script type="text/javascript" src="./js/hk_jquery.min.js"></script>
	<script type="text/javascript" src="./js/hk_Validform_v5.3.2_min.js"></script>
	<script type="text/javascript" src="./js/hk_layer.js"></script>
	<script type="text/javascript" src="./js/hk_md.login.js"></script>
	<!-- <script src="http://static.geetest.com/static/tools/gt.js"></script> -->
	<script type="text/javascript" src="./js/hk_jquery.cookie.js"></script>
	<script src="./js/hk_load.min.js"></script>
	<script type="text/javascript">
		(function() {
			(function() {
				var loginId = window.location.href;
				var sessionBd_vid = window.sessionStorage.getItem('bd_vid');
				console.log(sessionBd_vid);
				if (sessionBd_vid) {
					$("#loginId").val(loginId + '?bd_vid=' + sessionBd_vid);
				} else {
					$("#loginId").val(loginId);
				}
				$("#timestamp").val((new Date()).getTime());
			})();
		})();
		$("#myform").initValidform("regPage");
		$("#qmymark").val($.cookie("qmymark"));

		$("#get-form").on('click', function() {
			var validate = $("*[name='NECaptchaValidate']").val();
			if (validate == '' || validate == null) {
				layer.msg('请滑动验证码');
				return false;
			}
			$("#myform").submit();
		});
		//没有营销渠道才设置销售经理渠道，并写入cookie。用户跳转到其他页面再回来，则cookie里有值了。
		//if($("#qmymark").val()==null || $("#qmymark").val()==""){
		//  $("#qmymark").val(GetQueryString('clientManagerId'));
		//  $.cookie('qmymark', GetQueryString('clientManagerId'));
		//}
		initNECaptcha({
			captchaId : '3aa8d8bffbd249df9e411c9681461d44',
			element : '#captcha_div',
			mode : 'float', // 如果要用触发式，这里改为float即可
			width : '100%',
			onVerify : function(err, ret) {
				if (!err) {
					// ret['validate'] 获取二次校验数据
				}
			}
		}, function(instance) {
			// 初始化成功后得到验证实例instance，可以调用实例的方法
		}, function(err) {
			// 初始化失败后触发该函数，err对象描述当前错误信息
		});
		//为避免商机冲突，销售推广会覆盖百度等。
		var xiaoshou = GetQueryString('clientManagerId');
		if (xiaoshou != null) {
			$("#qmymark").val(xiaoshou);
			$.cookie('qmymark', xiaoshou);
		}
		console.log($("#qmymark").val());
		//<![CDATA[
		function GetQueryString(name) {
			console.log("a");
			var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
			var r = window.location.search.substr(1).match(reg);
			console.log(r);
			if (r != null)
				return unescape(r[2]);
			return null;
		}//]]>
		var isSubmit = false;
		$(function() {
			//     if(!isSubmit){
			//         if($("form").Validform({tiptype:2}).check(true)){
			//             var email = $('#uEmail').val();
			//             var code = $("input.form-control[name='code']").val();
			//             $.post("/tedu_bbs/VerifyCode", {
			//                 code: code,
			//                 email: email,
			//             }, function(data) {
			//                 if (data.code == "0") { //成功
			//                     isSubmit = true;
			//                     $(".btn-reg").attr("disabled","disabled");
			//                     $('form').submit();
			//                 } else {
			//                     e.preventDefault();
			//                     layer.msg("请填写正确的短信验证码");
			//                     isSubmit = false;
			//                     $(".btn-reg").removeAttr("disabled");
			//                 }
			//             });
			//         }
			//     }
			//     return isSubmit;
			// });

			$('#uMobile').bind('input propertychange', function() {
				if ($(this).val().length == 11) {
					$(this).blur().focus();
				}
			});

			$('#imgCode').bind('input propertychange', function() {
				if ($(this).val().length == 4) {
					$(this).blur().focus();
				}
			});
			$("#term").load("./term.html  .about-box");

			$('.captcha-img').hover(function() {
				layer.tips('如无显示验证码图片,点此刷新', '.captcha-img', {
					tips : [ 1, '#000000' ]
				});
			}, function() {
				return;
			})
		});

		function checkForm() {
			var email = $('#uEmail').val();
			var code = $("input.input[name='code']").val();
			/* ================================================================================================================================================================================== */
			$.post("tedu_bbs/VerifyCode", {
				code : code,
				email : email
			}, function(data) {
				if (data.code == "0") { //成功
					return true;
				} else {
					layer.msg("请填写正确的短信验证码");
					return false;
				}
			});
		}
	</script>


</body>
</html>